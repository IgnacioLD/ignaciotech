{{ define "main" }}

<!-- Hero Section -->
<section class="hero" data-layout="{{ .Params.layout.style | default "minimal" }}">
  <div class="hero-container"{{ with .Params.layout.max_width }} style="max-width: {{ . }}"{{ end }}>
    <div class="hero-content">
      <!-- Greeting -->
      {{ with .Params.hero.greeting }}
      <h1 class="hero-greeting">{{ . | markdownify }}</h1>
      {{ end }}
      
      <!-- Introduction -->
      {{ with .Params.hero.introduction }}
      <p class="hero-introduction">{{ . | markdownify }}</p>
      {{ end }}
      
      <!-- Mission -->
      {{ with .Params.hero.mission }}
      <p class="hero-mission">{{ . | markdownify }}</p>
      {{ end }}
      
      <!-- Approach -->
      {{ with .Params.hero.approach }}
      <p class="hero-approach">{{ . | markdownify }}</p>
      {{ end }}
      
      <!-- Navigation Section -->
      {{ with .Params.hero.navigation }}
      <div class="hero-navigation">
        <strong>{{ .title }}:</strong>
        <span>{{ .description }}</span>
        {{ range $index, $link := .links }}
          {{- if gt $index 0 }}, {{ end -}}
          <a href="{{ $link.url }}">{{ $link.name }}</a>
        {{- end }}.
      </div>
      {{ end }}
      
      <!-- Social Section -->
      {{ with .Params.hero.social }}
      <div class="hero-social">
        <strong>{{ .title }}:</strong>
        
        {{ if .show_icons }}
        {{ partial "social-icons.html" . }}
        {{ end }}
        
        {{ with .closing_message }}
        <p class="hero-closing">{{ . | markdownify }}</p>
        {{ end }}
        
        {{ with .signature }}
        <p class="hero-signature">{{ . | markdownify }}</p>
        {{ end }}
      </div>
      {{ end }}
    </div>
    
    <!-- Portrait -->
    {{ if and (.Params.layout.show_portrait | default true) (.Params.hero.portrait.show | default true) }}
    <div class="hero-portrait">
      {{ with .Params.hero.portrait }}
      {{ partial "image.html" (dict "page" $ "src" .src "alt" .alt "class" "hero-portrait-img" "width" 1200 "loading" "lazy" "fetchpriority" "low") }}
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>

<!-- Additional Content -->
{{ with .Content }}
<section class="home-content">
  <div class="container">
    {{ . }}
  </div>
</section>
{{ end }}

{{ end }}
